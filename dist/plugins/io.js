var __awaiter=this&&this.__awaiter||function(e,c,a,s){return new(a=a||Promise)(function(o,t){function n(e){try{r(s.next(e))}catch(e){t(e)}}function i(e){try{r(s.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?o(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}r((s=s.apply(e,c||[])).next())})},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});let fastify_plugin_1=__importDefault(require("fastify-plugin")),socket_io_1=require("socket.io");exports.default=(0,fastify_plugin_1.default)(e=>__awaiter(void 0,void 0,void 0,function*(){let t=new socket_io_1.Server(e.server,{cors:{origin:"*"}});e.decorate("io",t),t.on("connection",e=>{console.log("A user connected"),e.on("chat message",e=>{console.log("ðŸ“© Chat message:",e),t.emit("chat message",e)}),e.on("disconnect",()=>{console.log("A user disconnected")})})}));
//# sourceMappingURL=io.js.map
