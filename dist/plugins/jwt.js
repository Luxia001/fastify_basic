var __awaiter=this&&this.__awaiter||function(t,u,o,f){return new(o=o||Promise)(function(i,e){function n(t){try{r(f.next(t))}catch(t){e(t)}}function a(t){try{r(f.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?i(t.value):((e=t.value)instanceof o?e:new o(function(t){t(e)})).then(n,a)}r((f=f.apply(t,u||[])).next())})},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});let fastify_plugin_1=__importDefault(require("fastify-plugin")),jwt_1=__importDefault(require("@fastify/jwt"));exports.default=(0,fastify_plugin_1.default)(t=>__awaiter(void 0,void 0,void 0,function*(){t.register(jwt_1.default,{secret:process.env.JWT_SECRET||"default_secret"}),t.decorate("authenticate",(t,e)=>__awaiter(void 0,void 0,void 0,function*(){try{yield t.jwtVerify()}catch(t){e.send(t)}}))}));
//# sourceMappingURL=jwt.js.map
